I"K(function() {
  $(document).on('ready page:load', function() {
    var i, len, ref, results, tag;
    $('#article-tags').tagit({
      fieldName: 'article[tag_list]',
      singleField: true,
      availableTags: gon.available_tags
    });
    if (gon.article_tags != null) {
      ref = gon.article_tags;
      results = [];
      for (i = 0, len = ref.length; i < len; i++) {
        tag = ref[i];
        results.push($('#article-tags').tagit('createTag', tag));
      }
      return results;
    }
  });

  $.rails.allowAction = function(link) {
    if (!link.attr('data-confirm')) {
      return true;
    }
    $.rails.showConfirmDialog(link);
    return false;
  };

  $.rails.confirmed = function(link) {
    link.removeAttr('data-confirm');
    return link.trigger('click.rails');
  };

  $.rails.showConfirmDialog = function(link) {
    var html, message;
    message = link.attr('data-confirm');
    html = "<div id=\"dialog-confirm\" title=\"Are you sure you want to delete this post?\">\n  <p>" + message + "</p>\n</div>";
    return $(html).dialog({
      resizable: false,
      modal: true,
      buttons: {
        OK: function() {
          $.rails.confirmed(link);
          return $(this).dialog("close");
        },
        Cancel: function() {
          return $(this).dialog("close");
        }
      }
    });
  };

}).call(this);
:ET