/*!
 * # Semantic UI - Nag
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,t,i,n){"use strict";e.fn.nag=function(i){var a,o=e(this),r=o.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return o.each(function(){var o,h=e.isPlainObject(i)?e.extend(!0,{},e.fn.nag.settings,i):e.extend({},e.fn.nag.settings),p=(h.className,h.selector),m=h.error,f=h.namespace,g="."+f,v=f+"-module",b=e(this),y=(b.find(p.close),e(h.context?h.context:"body")),T=this,k=b.data(v);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};o={initialize:function(){o.verbose("Initializing element"),b.on("click"+g,p.close,o.dismiss).data(v,o),h.detachable&&b.parent()[0]!==y[0]&&b.detach().prependTo(y),h.displayTime>0&&setTimeout(o.hide,h.displayTime),o.show()},destroy:function(){o.verbose("Destroying instance"),b.removeData(v).off(g)},show:function(){o.should.show()&&!b.is(":visible")&&(o.debug("Showing nag",h.animation.show),"fade"==h.animation.show?b.fadeIn(h.duration,h.easing):b.slideDown(h.duration,h.easing))},hide:function(){o.debug("Showing nag",h.animation.hide),"fade"==h.animation.show?b.fadeIn(h.duration,h.easing):b.slideUp(h.duration,h.easing)},onHide:function(){o.debug("Removing nag",h.animation.hide),b.remove(),h.onHide&&h.onHide()},dismiss:function(e){h.storageMethod&&o.storage.set(h.key,h.value),o.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return h.persist?(o.debug("Persistent nag is set, can show nag"),!0):o.storage.get(h.key)!=h.value.toString()?(o.debug("Stored value is not set, can show nag",o.storage.get(h.key)),!0):(o.debug("Stored value is set, cannot show nag",o.storage.get(h.key)),!1)}},get:{storageOptions:function(){var e={};return h.expires&&(e.expires=h.expires),h.domain&&(e.domain=h.domain),h.path&&(e.path=h.path),e}},clear:function(){o.storage.remove(h.key)},storage:{set:function(i,a){var r=o.get.storageOptions();if("localstorage"==h.storageMethod&&t.localStorage!==n)t.localStorage.setItem(i,a),o.debug("Value stored using local storage",i,a);else if("sessionstorage"==h.storageMethod&&t.sessionStorage!==n)t.sessionStorage.setItem(i,a),o.debug("Value stored using session storage",i,a);else{if(e.cookie===n)return void o.error(m.noCookieStorage);e.cookie(i,a,r),o.debug("Value stored using cookie",i,a,r)}},get:function(i,a){var r;return"localstorage"==h.storageMethod&&t.localStorage!==n?r=t.localStorage.getItem(i):"sessionstorage"==h.storageMethod&&t.sessionStorage!==n?r=t.sessionStorage.getItem(i):e.cookie!==n?r=e.cookie(i):o.error(m.noCookieStorage),("undefined"==r||"null"==r||r===n||null===r)&&(r=n),r},remove:function(i){var a=o.get.storageOptions();"localstorage"==h.storageMethod&&t.localStorage!==n?t.localStorage.removeItem(i):"sessionstorage"==h.storageMethod&&t.sessionStorage!==n?t.sessionStorage.removeItem(i):e.cookie!==n?e.removeCookie(i,a):o.error(m.noStorage)}},setting:function(t,i){if(o.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,h,t);else{if(i===n)return h[t];h[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(i===n)return o[t];o[t]=i}},debug:function(){h.debug&&(h.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,h.name+":"),o.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,h.name+":"),o.error.apply(console,arguments)},performance:{log:function(e){var t,i,n;h.performance&&(t=(new Date).getTime(),n=s||t,i=t-n,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":i})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var t=h.name+":",i=0;s=!1,clearTimeout(o.performance.timer),e.each(l,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",r&&(t+=" '"+r+"'"),(console.group!==n||console.table!==n)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,i,r){var s,l,c,u=k;return i=i||d,r=T||r,"string"==typeof t&&u!==n&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,a){var r=i!=s?a+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(u[r])&&i!=s)u=u[r];else{if(u[r]!==n)return l=u[r],!1;if(!e.isPlainObject(u[a])||i==s)return u[a]!==n?(l=u[a],!1):(o.error(m.method,t),!1);u=u[a]}})),e.isFunction(l)?c=l.apply(r,i):l!==n&&(c=l),e.isArray(a)?a.push(c):a!==n?a=[a,c]:c!==n&&(a=c),l}},u?(k===n&&o.initialize(),o.invoke(c)):(k!==n&&k.invoke("destroy"),o.initialize())}),a!==n?a:this},e.fn.nag.settings={name:"Nag",debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document);